<div id="App"></div>

<script type="module">
import {html} from './node_modules/lit-html/lit-html.js';
import App from './App.js';

App._Model = {Count:0,People:[]};
App._Mutations = {
    DELTA:(inModel, inAmount) => inModel.Count += inAmount,
    CREATE:(inModel, inName)  => inModel.People.push({Name:inName, ID:Math.random()}),
    DELETE:(inModel, inID)    => inModel.People = inModel.People.filter((inPerson)=>inPerson.ID != inID)
};
App._Views = {
    Main:(m, s, v)    => html`<div>${v.Counter(m.Count, s, v)}${v.People(m.People, s, v)}</div>`,
    Counter:(c, s, v) => html`<em>Count:</em><strong>${c}</strong><button @click=${()=>s("DELTA", +1)}>+</button><button @click=${()=>s("DELTA", -1)}>-</button>`,
    Person:(p, s, v)  => html`<li><span>${p.Name}</span><button @click=${()=>s("DELETE", p.ID)}>x</button></li>`,
    People:(p, s, v)  => html`<ul>${p.map(p => v.Person(p, s, v))}</ul><button @click=${()=>s("CREATE", "Seth"+Math.random())}>new</button>`
};
App.Start(document.querySelector("#App"), "Main");

</script>